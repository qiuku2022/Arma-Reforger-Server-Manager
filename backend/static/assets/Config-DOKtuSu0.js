import{d as W,o as H,c as v,b as s,w as o,v as k,F as U,r as O,n as u,i,e as x,j as $,k as K,f as r,h as m,t as P,_ as X}from"./index-DXihFc6l.js";import{j as Y,k as Z,l as _,m as h,n as D,o as A,p as ee,q as se,t as le,v as ae}from"./index-DGO2oQ2b.js";const te={class:"config-page"},oe={class:"card-header page-header"},ie={class:"header-actions"},ne={class:"preset-controls"},re=["value"],ue=["disabled"],de=["disabled"],ve={class:"config-sections"},me={class:"card"},pe={class:"form-row"},ge={class:"form-group"},be={class:"form-group"},fe={class:"form-row"},ce={class:"form-group"},we={class:"form-group"},ye={class:"card"},Pe={class:"form-row"},Ce={class:"form-group"},Ve={class:"form-group"},ke={class:"card"},Ue={class:"card-header"},De={class:"form-row"},Ie={class:"form-group"},Se={class:"form-group"},Ne={class:"form-row"},Oe={class:"form-group"},xe={class:"form-group"},$e={class:"form-row"},Ae={class:"form-group"},Me={class:"form-group"},je={class:"card"},Te={class:"form-group"},Re={class:"form-row"},Ee={class:"form-group"},Fe={class:"form-group"},Be={class:"form-group"},Ge={class:"form-group"},ze={class:"form-group"},Qe={class:"scenario-selector"},Le={class:"radio-label"},qe={class:"radio-label"},Je=["value"],We={class:"toggle-grid"},He={class:"toggle-item"},Ke={class:"toggle-item"},Xe={class:"card"},Ye={class:"form-row"},Ze={class:"form-group"},_e={class:"form-group"},he={class:"form-group"},es={class:"toggle-grid"},ss={class:"toggle-item"},ls={class:"toggle-item"},as={class:"toggle-item"},ts={class:"toggle-item"},os={class:"toggle-item"},is={class:"toggle-item"},ns={class:"toggle-item"},rs={class:"form-group",style:{"margin-top":"16px"}},us={class:"modal"},ds={class:"modal-actions"},vs=W({__name:"Config",setup(ms){const l=r({bindAddress:"",bindPort:2001,publicAddress:"",publicPort:2001,a2s:{address:"",port:17777},rcon:{address:"",port:19999,password:"",permission:"admin",blacklist:[],whitelist:[]},game:{name:"Arma Reforger Server",password:"",passwordAdmin:"",admins:[],scenarioId:"",maxPlayers:64,visible:!0,crossPlatform:!1,supportedPlatforms:["PLATFORM_PC"],gameProperties:{serverMaxViewDistance:2500,serverMinGrassDistance:50,networkViewDistance:1500,disableThirdPerson:!1,fastValidation:!0,battlEye:!0,VONDisableUI:!1,VONDisableDirectSpeechUI:!1,VONCanTransmitCrossFaction:!1},mods:[]},operating:{lobbyPlayerSynchronise:!0,joinQueue:{maxSize:64},disableNavmeshStreaming:[]}}),p=r(!1),C=r([]),g=r("official"),I=r([]),n=r(""),d=r(""),b=r(!1),f=r(""),c=r(""),w=r(""),y=r(""),M=async()=>{try{const t=await D();d.value=t.default_preset||"",d.value&&(n.value=d.value,await N())}catch(t){console.error(t)}},j=async()=>{try{l.value=await Y(),await M(),S()}catch(t){console.error(t)}},S=()=>{p.value=!!l.value.rcon?.password,c.value=(l.value.game.admins||[]).join(","),w.value=(l.value.rcon?.whitelist||[]).join(","),y.value=(l.value.rcon?.blacklist||[]).join(","),l.value.rcon||(l.value.rcon={address:"",port:19999,password:"",permission:"admin",blacklist:[],whitelist:[]});const t=C.value.some(e=>e.id===l.value.game.scenarioId);g.value=t?"official":"custom"},T=()=>{l.value.game.admins=c.value.split(",").map(t=>t.trim()).filter(t=>t)},R=()=>{l.value.rcon.whitelist=w.value.split(",").map(t=>t.trim()).filter(t=>t)},E=()=>{l.value.rcon.blacklist=y.value.split(",").map(t=>t.trim()).filter(t=>t)},F=async()=>{try{C.value=await Z()}catch(t){console.error(t)}},V=async()=>{try{I.value=await _()}catch(t){console.error(t)}},N=async()=>{if(n.value)try{const t=await h(n.value);l.value=t,S()}catch(t){alert(t.message)}},B=async()=>{if(n.value)try{const t=await D();d.value===n.value?(t.default_preset="",d.value=""):(t.default_preset=n.value,d.value=n.value),await A(t)}catch(t){alert(t.message)}},G=async()=>{if(n.value&&confirm(`ç¡®å®šè¦åˆ é™¤é¢„è®¾ "${n.value}" å—ï¼Ÿ`))try{if(await ee(n.value),d.value===n.value){const t=await D();t.default_preset="",await A(t),d.value=""}n.value="",await V()}catch(t){alert(t.message)}},z=async()=>{try{const t={...l.value};p.value?t.rcon||(t.rcon={address:"",port:19999,password:"",permission:"admin",blacklist:[],whitelist:[]}):t.rcon=null,await se(t),alert("é…ç½®å·²ä¿å­˜")}catch(t){alert(t.message)}},Q=async()=>{if(f.value)try{await le(f.value,l.value),b.value=!1,f.value="",await V()}catch(t){alert(t.message)}},L=()=>{const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async e=>{const a=e.target.files[0];if(!a)return;const J=await a.text();l.value=JSON.parse(J),c.value=(l.value.game.admins||[]).join(","),w.value=(l.value.rcon.whitelist||[]).join(","),y.value=(l.value.rcon.blacklist||[]).join(",")},t.click()},q=()=>{ae()};return H(()=>{j(),F(),V()}),(t,e)=>(m(),v("div",te,[s("div",oe,[e[42]||(e[42]=s("h2",null,"âš™ï¸ æœåŠ¡ç«¯é…ç½®",-1)),s("div",ie,[s("div",ne,[o(s("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),onChange:N,class:"preset-select"},[e[40]||(e[40]=s("option",{value:""},"é€‰æ‹©é¢„è®¾...",-1)),(m(!0),v(U,null,O(I.value,a=>(m(),v("option",{key:a,value:a},P(a)+" "+P(a===d.value?"(é»˜è®¤)":""),9,re))),128))],544),[[k,n.value]]),s("button",{class:"btn-icon",onClick:B,title:"è®¾ä¸ºé»˜è®¤",disabled:!n.value},[s("span",{class:u(n.value&&n.value===d.value?"star-filled":"star-empty")},"â­",2)],8,ue),s("button",{class:"btn-icon btn-danger-icon",onClick:G,title:"åˆ é™¤é¢„è®¾",disabled:!n.value}," ğŸ—‘ï¸ ",8,de)]),e[41]||(e[41]=s("div",{class:"separator"},null,-1)),s("button",{class:"btn-secondary",onClick:e[1]||(e[1]=a=>b.value=!0)},"ğŸ’¾ ä¿å­˜é¢„è®¾"),s("button",{class:"btn-secondary",onClick:L},"ğŸ“¥ å¯¼å…¥"),s("button",{class:"btn-secondary",onClick:q},"ğŸ“¤ å¯¼å‡º"),s("button",{class:"btn-primary",onClick:z},"ä¿å­˜é…ç½®")])]),s("div",ve,[s("div",me,[e[47]||(e[47]=s("h3",{class:"section-title"},"ğŸŒ ç½‘ç»œé…ç½®",-1)),s("div",pe,[s("div",ge,[e[43]||(e[43]=s("label",{class:"form-label"},"ç»‘å®šåœ°å€",-1)),o(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.bindAddress=a),placeholder:"ç•™ç©ºè‡ªåŠ¨ç»‘å®š"},null,512),[[i,l.value.bindAddress]])]),s("div",be,[e[44]||(e[44]=s("label",{class:"form-label"},"ç»‘å®šç«¯å£",-1)),o(s("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.bindPort=a),type:"number"},null,512),[[i,l.value.bindPort,void 0,{number:!0}]])])]),s("div",fe,[s("div",ce,[e[45]||(e[45]=s("label",{class:"form-label"},"å…¬ç½‘åœ°å€",-1)),o(s("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.publicAddress=a),placeholder:"æœåŠ¡å™¨å…¬ç½‘IP"},null,512),[[i,l.value.publicAddress]])]),s("div",we,[e[46]||(e[46]=s("label",{class:"form-label"},"å…¬ç½‘ç«¯å£",-1)),o(s("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.publicPort=a),type:"number"},null,512),[[i,l.value.publicPort,void 0,{number:!0}]])])])]),s("div",ye,[e[50]||(e[50]=s("h3",{class:"section-title"},"ğŸ“¡ A2S æŸ¥è¯¢",-1)),s("div",Pe,[s("div",Ce,[e[48]||(e[48]=s("label",{class:"form-label"},"A2S åœ°å€",-1)),o(s("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.a2s.address=a),placeholder:"ç•™ç©ºä½¿ç”¨é»˜è®¤"},null,512),[[i,l.value.a2s.address]])]),s("div",Ve,[e[49]||(e[49]=s("label",{class:"form-label"},"A2S ç«¯å£",-1)),o(s("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.a2s.port=a),type:"number"},null,512),[[i,l.value.a2s.port,void 0,{number:!0}]])])])]),s("div",ke,[s("div",Ue,[e[51]||(e[51]=s("h3",{class:"section-title"},"ğŸ” RCON",-1)),s("div",{class:u(["toggle-switch",{active:p.value}]),onClick:e[8]||(e[8]=a=>p.value=!p.value)},null,2)]),p.value?(m(),v(U,{key:0},[s("div",De,[s("div",Ie,[e[52]||(e[52]=s("label",{class:"form-label"},"RCON åœ°å€",-1)),o(s("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.rcon.address=a),placeholder:"0.0.0.0"},null,512),[[i,l.value.rcon.address]])]),s("div",Se,[e[53]||(e[53]=s("label",{class:"form-label"},"RCON ç«¯å£",-1)),o(s("input",{"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.rcon.port=a),type:"number"},null,512),[[i,l.value.rcon.port,void 0,{number:!0}]])])]),s("div",Ne,[s("div",Oe,[e[54]||(e[54]=s("label",{class:"form-label"},"RCON å¯†ç  (è‡³å°‘3å­—ç¬¦ï¼Œæ— ç©ºæ ¼)",-1)),o(s("input",{"onUpdate:modelValue":e[11]||(e[11]=a=>l.value.rcon.password=a),type:"password"},null,512),[[i,l.value.rcon.password]])]),s("div",xe,[e[56]||(e[56]=s("label",{class:"form-label"},"æƒé™çº§åˆ«",-1)),o(s("select",{"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.rcon.permission=a)},[...e[55]||(e[55]=[s("option",{value:"admin"},"admin",-1),s("option",{value:"monitor"},"monitor",-1)])],512),[[k,l.value.rcon.permission]])])]),s("div",$e,[s("div",Ae,[e[57]||(e[57]=s("label",{class:"form-label"},"RCON ç™½åå• (é€—å·åˆ†éš”)",-1)),o(s("input",{"onUpdate:modelValue":e[13]||(e[13]=a=>w.value=a),onChange:R,placeholder:"IPåœ°å€..."},null,544),[[i,w.value]])]),s("div",Me,[e[58]||(e[58]=s("label",{class:"form-label"},"RCON é»‘åå• (é€—å·åˆ†éš”)",-1)),o(s("input",{"onUpdate:modelValue":e[14]||(e[14]=a=>y.value=a),onChange:E,placeholder:"IPåœ°å€..."},null,544),[[i,y.value]])])])],64)):x("",!0)]),s("div",je,[e[69]||(e[69]=s("h3",{class:"section-title"},"ğŸ® æ¸¸æˆè®¾ç½®",-1)),s("div",Te,[e[59]||(e[59]=s("label",{class:"form-label"},"æœåŠ¡å™¨åç§°",-1)),o(s("input",{"onUpdate:modelValue":e[15]||(e[15]=a=>l.value.game.name=a)},null,512),[[i,l.value.game.name]])]),s("div",Re,[s("div",Ee,[e[60]||(e[60]=s("label",{class:"form-label"},"æœåŠ¡å™¨å¯†ç ",-1)),o(s("input",{"onUpdate:modelValue":e[16]||(e[16]=a=>l.value.game.password=a),type:"password"},null,512),[[i,l.value.game.password]])]),s("div",Fe,[e[61]||(e[61]=s("label",{class:"form-label"},"ç®¡ç†å‘˜å¯†ç ",-1)),o(s("input",{"onUpdate:modelValue":e[17]||(e[17]=a=>l.value.game.passwordAdmin=a),type:"password"},null,512),[[i,l.value.game.passwordAdmin]])])]),s("div",Be,[e[62]||(e[62]=s("label",{class:"form-label"},"ç®¡ç†å‘˜ ID åˆ—è¡¨ (é€—å·åˆ†éš”)",-1)),o(s("input",{"onUpdate:modelValue":e[18]||(e[18]=a=>c.value=a),onChange:T,placeholder:"76561198..."},null,544),[[i,c.value]])]),s("div",Ge,[e[63]||(e[63]=s("label",{class:"form-label"},"æœ€å¤§ç©å®¶æ•°",-1)),o(s("input",{"onUpdate:modelValue":e[19]||(e[19]=a=>l.value.game.maxPlayers=a),type:"number"},null,512),[[i,l.value.game.maxPlayers,void 0,{number:!0}]])]),s("div",ze,[e[66]||(e[66]=s("label",{class:"form-label"},"ä»»åŠ¡åœºæ™¯",-1)),s("div",Qe,[s("label",Le,[o(s("input",{type:"radio","onUpdate:modelValue":e[20]||(e[20]=a=>g.value=a),value:"official"},null,512),[[$,g.value]]),e[64]||(e[64]=s("span",null,"å®˜æ–¹åœºæ™¯",-1))]),s("label",qe,[o(s("input",{type:"radio","onUpdate:modelValue":e[21]||(e[21]=a=>g.value=a),value:"custom"},null,512),[[$,g.value]]),e[65]||(e[65]=s("span",null,"è‡ªå®šä¹‰ ID",-1))])]),g.value==="official"?o((m(),v("select",{key:0,"onUpdate:modelValue":e[22]||(e[22]=a=>l.value.game.scenarioId=a),class:"scenario-select"},[(m(!0),v(U,null,O(C.value,a=>(m(),v("option",{key:a.id,value:a.id},P(a.name)+" ("+P(a.map)+") ",9,Je))),128))],512)),[[k,l.value.game.scenarioId]]):o((m(),v("input",{key:1,"onUpdate:modelValue":e[23]||(e[23]=a=>l.value.game.scenarioId=a),placeholder:"{GUID}Path/To/Config.conf"},null,512)),[[i,l.value.game.scenarioId]])]),s("div",We,[s("div",He,[e[67]||(e[67]=s("span",null,"æœåŠ¡å™¨å¯è§",-1)),s("div",{class:u(["toggle-switch",{active:l.value.game.visible}]),onClick:e[24]||(e[24]=a=>l.value.game.visible=!l.value.game.visible)},null,2)]),s("div",Ke,[e[68]||(e[68]=s("span",null,"è·¨å¹³å°",-1)),s("div",{class:u(["toggle-switch",{active:l.value.game.crossPlatform}]),onClick:e[25]||(e[25]=a=>l.value.game.crossPlatform=!l.value.game.crossPlatform)},null,2)])])]),s("div",Xe,[e[81]||(e[81]=s("h3",{class:"section-title"},"ğŸ¯ æ¸¸æˆå±æ€§",-1)),s("div",Ye,[s("div",Ze,[e[70]||(e[70]=s("label",{class:"form-label"},"æœ€å¤§è§†è·",-1)),o(s("input",{"onUpdate:modelValue":e[26]||(e[26]=a=>l.value.game.gameProperties.serverMaxViewDistance=a),type:"number"},null,512),[[i,l.value.game.gameProperties.serverMaxViewDistance,void 0,{number:!0}]])]),s("div",_e,[e[71]||(e[71]=s("label",{class:"form-label"},"æœ€å°è‰åœ°è·ç¦»",-1)),o(s("input",{"onUpdate:modelValue":e[27]||(e[27]=a=>l.value.game.gameProperties.serverMinGrassDistance=a),type:"number"},null,512),[[i,l.value.game.gameProperties.serverMinGrassDistance,void 0,{number:!0}]])])]),s("div",he,[e[72]||(e[72]=s("label",{class:"form-label"},"ç½‘ç»œè§†è·",-1)),o(s("input",{"onUpdate:modelValue":e[28]||(e[28]=a=>l.value.game.gameProperties.networkViewDistance=a),type:"number"},null,512),[[i,l.value.game.gameProperties.networkViewDistance,void 0,{number:!0}]])]),s("div",es,[s("div",ss,[e[73]||(e[73]=s("span",null,"ç¦ç”¨ç¬¬ä¸‰äººç§°",-1)),s("div",{class:u(["toggle-switch",{active:l.value.game.gameProperties.disableThirdPerson}]),onClick:e[29]||(e[29]=a=>l.value.game.gameProperties.disableThirdPerson=!l.value.game.gameProperties.disableThirdPerson)},null,2)]),s("div",ls,[e[74]||(e[74]=s("span",null,"å¿«é€ŸéªŒè¯",-1)),s("div",{class:u(["toggle-switch",{active:l.value.game.gameProperties.fastValidation}]),onClick:e[30]||(e[30]=a=>l.value.game.gameProperties.fastValidation=!l.value.game.gameProperties.fastValidation)},null,2)]),s("div",as,[e[75]||(e[75]=s("span",null,"BattlEye åä½œå¼Š",-1)),s("div",{class:u(["toggle-switch",{active:l.value.game.gameProperties.battlEye}]),onClick:e[31]||(e[31]=a=>l.value.game.gameProperties.battlEye=!l.value.game.gameProperties.battlEye)},null,2)]),s("div",ts,[e[76]||(e[76]=s("span",null,"ç¦ç”¨æ— çº¿ç”µé€šè¯UI",-1)),s("div",{class:u(["toggle-switch",{active:l.value.game.gameProperties.VONDisableUI}]),onClick:e[32]||(e[32]=a=>l.value.game.gameProperties.VONDisableUI=!l.value.game.gameProperties.VONDisableUI)},null,2)]),s("div",os,[e[77]||(e[77]=s("span",null,"ç¦ç”¨ç›´æ¥å¯¹è¯UI",-1)),s("div",{class:u(["toggle-switch",{active:l.value.game.gameProperties.VONDisableDirectSpeechUI}]),onClick:e[33]||(e[33]=a=>l.value.game.gameProperties.VONDisableDirectSpeechUI=!l.value.game.gameProperties.VONDisableDirectSpeechUI)},null,2)]),s("div",is,[e[78]||(e[78]=s("span",null,"è·¨é˜µè¥è¯­éŸ³",-1)),s("div",{class:u(["toggle-switch",{active:l.value.game.gameProperties.VONCanTransmitCrossFaction}]),onClick:e[34]||(e[34]=a=>l.value.game.gameProperties.VONCanTransmitCrossFaction=!l.value.game.gameProperties.VONCanTransmitCrossFaction)},null,2)]),s("div",ns,[e[79]||(e[79]=s("span",null,"å¤§å…ç©å®¶åŒæ­¥",-1)),s("div",{class:u(["toggle-switch",{active:l.value.operating.lobbyPlayerSynchronise}]),onClick:e[35]||(e[35]=a=>l.value.operating.lobbyPlayerSynchronise=!l.value.operating.lobbyPlayerSynchronise)},null,2)])]),s("div",rs,[e[80]||(e[80]=s("label",{class:"form-label"},"æ’é˜Ÿäººæ•°é™åˆ¶",-1)),o(s("input",{"onUpdate:modelValue":e[36]||(e[36]=a=>l.value.operating.joinQueue.maxSize=a),type:"number",class:"short-input"},null,512),[[i,l.value.operating.joinQueue.maxSize,void 0,{number:!0}]])])])]),b.value?(m(),v("div",{key:0,class:"modal-overlay",onClick:e[39]||(e[39]=K(a=>b.value=!1,["self"]))},[s("div",us,[e[82]||(e[82]=s("h3",null,"ä¿å­˜é¢„è®¾",-1)),o(s("input",{"onUpdate:modelValue":e[37]||(e[37]=a=>f.value=a),placeholder:"é¢„è®¾åç§°"},null,512),[[i,f.value]]),s("div",ds,[s("button",{class:"btn-secondary",onClick:e[38]||(e[38]=a=>b.value=!1)},"å–æ¶ˆ"),s("button",{class:"btn-primary",onClick:Q},"ä¿å­˜")])])])):x("",!0)]))}}),bs=X(vs,[["__scopeId","data-v-2ef004a9"]]);export{bs as default};
