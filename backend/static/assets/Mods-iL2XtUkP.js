import{d as $,o as x,c as n,b as s,w as m,i as h,t as i,F as b,r as y,e as c,f,l as k,h as d,n as M,_ as V}from"./index-DXihFc6l.js";import{w as D,x as B,y as I,z as U,A as z}from"./index-DGO2oQ2b.js";const F={class:"mods-page"},N={class:"card add-mod-section"},A={class:"add-mod-form"},E={class:"mods-lists"},L={class:"card mods-list"},S={class:"card-header"},T={class:"count"},W={class:"mods-container"},j={class:"mod-info"},q={class:"mod-name"},G={class:"mod-id"},H={key:0,class:"mod-version"},J={class:"mod-actions"},K=["onClick"],O=["onClick"],P={key:0,class:"empty"},Q={class:"card mods-list"},R={class:"card-header"},X={class:"count"},Y={class:"mods-container"},Z={class:"mod-info"},ss={class:"mod-name"},es={class:"mod-id"},ts={key:0,class:"mod-version"},as={class:"mod-actions"},os=["onClick"],ns=["onClick"],ds={key:0,class:"empty"},is=$({__name:"Mods",setup(ls){const r=f([]),o=f({id:"",name:"",version:""}),u=k(()=>r.value.filter(a=>a.enabled)),v=k(()=>r.value.filter(a=>!a.enabled)),l=async()=>{try{r.value=await D()}catch(a){console.error(a)}},w=async()=>{if(o.value.id)try{await B({id:o.value.id,name:o.value.name||o.value.id,version:o.value.version||""}),o.value={id:"",name:"",version:""},await l()}catch(a){alert(a.message)}},g=async a=>{try{await I(a),await l()}catch(t){alert(t.message)}},C=async a=>{try{await U(a),await l()}catch(t){alert(t.message)}},p=async a=>{if(confirm("ç¡®å®šè¦åˆ é™¤æ­¤æ¨¡ç»„å—ï¼Ÿ"))try{await z(a),await l()}catch(t){alert(t.message)}};return x(l),(a,t)=>(d(),n("div",F,[s("div",N,[t[3]||(t[3]=s("h3",{class:"section-title"},"â• æ·»åŠ æ¨¡ç»„",-1)),s("div",A,[m(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.value.id=e),placeholder:"æ¨¡ç»„ ID (Workshop ID)"},null,512),[[h,o.value.id]]),m(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.value.name=e),placeholder:"æ¨¡ç»„åç§°"},null,512),[[h,o.value.name]]),m(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.value.version=e),placeholder:"ç‰ˆæœ¬å· (å¯é€‰ï¼Œå¦‚ 1.0.1)"},null,512),[[h,o.value.version]]),s("button",{class:"btn-primary",onClick:w},"æ·»åŠ ")])]),s("div",E,[s("div",L,[s("div",S,[t[4]||(t[4]=s("h3",{class:"section-title"},"ğŸ“¦ æœªå¯ç”¨æ¨¡ç»„",-1)),s("span",T,i(v.value.length),1)]),s("div",W,[(d(!0),n(b,null,y(v.value,e=>(d(),n("div",{key:e.id,class:"mod-item"},[s("span",{class:M(["status-dot",e.downloaded?"status-online":"status-offline"])},null,2),s("div",j,[s("span",q,i(e.name||e.id),1),s("span",G,i(e.id),1),e.version?(d(),n("span",H,"v"+i(e.version),1)):c("",!0)]),s("div",J,[s("button",{class:"btn-success btn-sm",onClick:_=>g(e.id)},"å¯ç”¨ â†’",8,K),s("button",{class:"btn-danger btn-sm",onClick:_=>p(e.id)},"ğŸ—‘",8,O)])]))),128)),v.value.length===0?(d(),n("div",P,"æš‚æ— æœªå¯ç”¨æ¨¡ç»„")):c("",!0)])]),s("div",Q,[s("div",R,[t[5]||(t[5]=s("h3",{class:"section-title"},"âœ… å·²å¯ç”¨æ¨¡ç»„",-1)),s("span",X,i(u.value.length),1)]),s("div",Y,[(d(!0),n(b,null,y(u.value,e=>(d(),n("div",{key:e.id,class:"mod-item"},[s("span",{class:M(["status-dot",e.downloaded?"status-online":"status-offline"])},null,2),s("div",Z,[s("span",ss,i(e.name||e.id),1),s("span",es,i(e.id),1),e.version?(d(),n("span",ts,"v"+i(e.version),1)):c("",!0)]),s("div",as,[s("button",{class:"btn-secondary btn-sm",onClick:_=>C(e.id)},"â† ç¦ç”¨",8,os),s("button",{class:"btn-danger btn-sm",onClick:_=>p(e.id)},"ğŸ—‘",8,ns)])]))),128)),u.value.length===0?(d(),n("div",ds,"æš‚æ— å·²å¯ç”¨æ¨¡ç»„")):c("",!0)])])])]))}}),us=V(is,[["__scopeId","data-v-c716934d"]]);export{us as default};
