import{d as b,u as y,o as k,c as o,a as s,w as h,b as m,e as g,v as _,t as x,f as S,r as M,g as l,h as a,_ as A}from"./index-Dykq_D_Y.js";const R={class:"login-container"},V={class:"login-box"},B={key:0,class:"loading-state"},L={key:1,class:"info-state"},q={key:0,class:"warning-box"},C={class:"form-group"},D={class:"form-group"},E={key:1,class:"error-message"},N=["disabled"],U={key:0,class:"spinner-small"},I={key:1},P=b({__name:"Login",setup(T){const p=S(),u=y(),n=M({username:"",password:""}),r=l(!1),i=l(""),v=l(!0),f=l(!0),c=l(!1);k(async()=>{const t=await u.init();v.value=!1,f.value=t.enabled,c.value=t.default_password||!1,(!t.enabled||t.authenticated)&&p.push("/")});async function w(){i.value="",r.value=!0,await u.login(n.username,n.password)?p.push("/"):i.value=u.error||"ç™»å½•å¤±è´¥",r.value=!1}return(t,e)=>(a(),o("div",R,[s("div",V,[e[8]||(e[8]=s("div",{class:"login-header"},[s("span",{class:"logo-icon"},"ğŸ®"),s("h1",null,"ARSM"),s("p",null,"Arma Reforger Server Manager")],-1)),v.value?(a(),o("div",B,[...e[2]||(e[2]=[s("div",{class:"spinner"},null,-1),s("p",null,"æ­£åœ¨æ£€æŸ¥è®¤è¯çŠ¶æ€...",-1)])])):f.value?(a(),o("form",{key:2,onSubmit:h(w,["prevent"]),class:"login-form"},[e[7]||(e[7]=s("h2",null,"è´¦å·ç™»å½•",-1)),c.value?(a(),o("div",q,[...e[4]||(e[4]=[s("strong",null,"âš ï¸ å®‰å…¨è­¦å‘Š",-1),s("p",null,"å½“å‰æ­£åœ¨ä½¿ç”¨é»˜è®¤å¯†ç  (admin/admin)ï¼Œè¯·ç™»å½•åç«‹å³ä¿®æ”¹å¯†ç ï¼",-1)])])):m("",!0),s("div",C,[e[5]||(e[5]=s("label",{for:"username"},"ç”¨æˆ·å",-1)),g(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=d=>n.username=d),type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",required:"",autofocus:""},null,512),[[_,n.username]])]),s("div",D,[e[6]||(e[6]=s("label",{for:"password"},"å¯†ç ",-1)),g(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=d=>n.password=d),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ",required:""},null,512),[[_,n.password]])]),i.value?(a(),o("div",E,x(i.value),1)):m("",!0),s("button",{type:"submit",class:"login-btn",disabled:r.value},[r.value?(a(),o("span",U)):(a(),o("span",I,"ç™»å½•"))],8,N)],32)):(a(),o("div",L,[...e[3]||(e[3]=[s("div",{class:"info-icon"},"âœ“",-1),s("h2",null,"è®¤è¯å·²ç¦ç”¨",-1),s("p",null,"å½“å‰ç³»ç»Ÿæœªå¯ç”¨ç™»å½•è®¤è¯ï¼Œç›´æ¥è¿›å…¥...",-1)])])),e[9]||(e[9]=s("div",{class:"login-footer"},[s("p",null,"ARSM v1.0.0")],-1))])]))}}),z=A(P,[["__scopeId","data-v-d0f077da"]]);export{z as default};
